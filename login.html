<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sign Up ‚Äì SpotAlert</title>
  <style>
    body {
      font-family: "Poppins", Arial, sans-serif;
      background: #f7f9fb;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .signup-box {
      background: #fff;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      width: 90%;
      max-width: 400px;
      text-align: center;
    }

    img {
      height: 55px;
      margin-bottom: 15px;
    }

    h2 {
      color: #0078ff;
      margin-bottom: 10px;
    }

    input {
      width: 90%;
      padding: 12px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
    }

    button {
      background: #0078ff;
      color: #fff;
      padding: 12px 20px;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
      cursor: pointer;
      width: 95%;
      margin-top: 10px;
    }

    button:hover {
      background: #005fcc;
    }

    .msg {
      margin-top: 15px;
      font-size: 0.9rem;
    }

    a {
      color: #0078ff;
      text-decoration: none;
      font-size: 0.9rem;
    }
  </style>
</head>

<body>
  <div class="signup-box">
    <img src="spotalert_logo.png" alt="SpotAlert Logo">
    <h2>Create Your SpotAlert Account</h2>
    <form id="signupForm">
      <input type="text" id="name" placeholder="Full Name" required /><br />
      <input type="email" id="email" placeholder="Email" required /><br />
      <input type="password" id="password" placeholder="Password" required /><br />
      <button type="submit">Sign Up</button>
    </form>

    <p class="msg" id="msg"></p>

    <p>Already have an account? <a href="login.html">Login</a></p>

    <!-- Privacy summary block -->
    <div class="privacy-blurb" 
      style="font-family: Arial, sans-serif; font-size: 0.9em; color: #555; margin-top:15px; line-height:1.5;">
      <p>
        üõ°Ô∏è <strong>Your Privacy Matters:</strong> SpotAlert only collects what‚Äôs needed to help you
        monitor and protect your spaces ‚Äî never to sell or share it.  
        Camera data is processed securely to detect alerts and deleted after analysis unless you choose to save it.  
        You remain in full control of your information at all times.
      </p>
      <p style="margin-top:6px;">
        By signing up, you agree to our 
        <a href="/terms-of-service.html" target="_blank" style="color:#0077cc; text-decoration:none;">Terms of Service</a>
        and acknowledge our 
        <a href="/privacy-policy.html" target="_blank" style="color:#0077cc; text-decoration:none;">Privacy Policy</a>.
      </p>
    </div>
  </div>

  <script>
    const form = document.getElementById("signupForm");
    const msg = document.getElementById("msg");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      msg.textContent = "‚è≥ Creating your account...";

      const payload = {
        name: document.getElementById("name").value.trim(),
        email: document.getElementById("email").value.trim(),
        password: document.getElementById("password").value.trim()
      };

      try {
        const res = await fetch("https://api.spotalert.live/signup", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
        const data = await res.json();

        if (res.ok) {
          msg.textContent = "‚úÖ Account created! Please check your email to verify your account before logging in.";
        } else {
          msg.textContent = "‚ö†Ô∏è " + (data.error || "Signup failed. Try again.");
        }
      } catch (err) {
        msg.textContent = "‚ùå Network error. Please try again.";
        console.error(err);
      }
    });
  </script>
</body>
</html>
